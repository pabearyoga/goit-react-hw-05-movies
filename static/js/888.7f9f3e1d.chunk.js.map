{"version":3,"file":"static/js/888.7f9f3e1d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","servises/MovieAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MovieContainer\":\"MovieDetails_MovieContainer__xyS+s\",\"MovieDetailsWrapper\":\"MovieDetails_MovieDetailsWrapper__qRh-O\",\"MoviePoster\":\"MovieDetails_MoviePoster__abbRE\",\"MovieInfo\":\"MovieDetails_MovieInfo__ICQhe\",\"MovieTitle\":\"MovieDetails_MovieTitle__Aj4a0\",\"MovieSubTitle\":\"MovieDetails_MovieSubTitle__NEJrv\",\"MovieText\":\"MovieDetails_MovieText__8Z2Ex\",\"GoBackBtn\":\"MovieDetails_GoBackBtn__sO9wY\",\"AdditionalInformationWrapper\":\"MovieDetails_AdditionalInformationWrapper__GQ6Me\",\"AdditionalInformationList\":\"MovieDetails_AdditionalInformationList__V32Lb\",\"AdditionalInformationLink\":\"MovieDetails_AdditionalInformationLink__gBJmh\"};","import { useParams, Outlet, NavLink, useLocation } from \"react-router-dom\"\nimport { Suspense, useState, useEffect } from \"react\"\nimport {getMovieDetailsById} from \"servises/MovieAPI\"\nimport { IMAGE_URL } from \"servises/MovieAPI\";\nimport { toast } from 'react-toastify';\nimport placeholderIMG from 'images/placeholder.jpeg'\nimport css from './MovieDetails.module.css'\n\nconst imageUrl = (poster) => {\n    return `${IMAGE_URL}${poster}`\n}\n\nconst MovieDetails = () => {\n    const ROUTE_HOME_PAGE = process.env.REACT_APP_ROUTE_HOME_PAGE;\n    const { state } = useLocation();\n    const { movieId } = useParams();\n    const [movie, setMovie] = useState({})\n    const [isLoading, setIsLoading] = useState(false);\n \n  useEffect(() => {\n    movieId && setIsLoading(true);\n\n    getMovieDetailsById(movieId)\n      .then(results => {\n        setMovie(results);\n      })\n      .catch(err => toast.error(err))\n      .finally(setIsLoading(false));\n  }, [movieId]);     \n\n    const { poster_path, original_title, title, overview, genres } = movie;\n    return <div>\n        {isLoading && <p>Loading...</p>}\n        {!movie?.length && (\n            <div className={css.MovieContainer}>\n                <NavLink className={css.GoBackBtn} to={state || `/${ROUTE_HOME_PAGE}`}>Go back</NavLink>\n                <div className={css.MovieDetailsWrapper}>\n                    {poster_path ? (<img className={css.MoviePoster} src={imageUrl(poster_path)} alt={title} />) : (<img className={css.MoviePoster} src={placeholderIMG} alt={title} />)}\n                    \n                    <div className={css.MovieInfo}>\n                        <h1 className={css.MovieTitle}>{original_title}</h1>\n                        <p className={css.MovieSubTitle}>Overview</p>\n                        <p className={css.MovieText}>{overview || '-'}</p>\n                        <p className={css.MovieSubTitle}>Genres</p>\n                        <p className={css.MovieText}>{genres?.map(genre => genre.name).join(', ') || '-'}</p>\n                    </div>\n\n                </div>\n                <div className={css.AdditionalInformationWrapper}>\n                    <ul className={css.AdditionalInformationList}>\n                        <li className={css.MovieSubTitle}>\n                            <NavLink className={css.AdditionalInformationLink} to=\"cast\" state={state}>Cast</NavLink>\n                        </li>\n                        <li className={css.MovieSubTitle}>\n                            <NavLink className={css.AdditionalInformationLink} to=\"reviews\" state={state}>Reviews</NavLink>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n)}\n\n        <Suspense fallback={<p>Loading...</p>}>\n          <Outlet />\n        </Suspense>\n    </div>\n    }\n\n export default MovieDetails","import axios from 'axios';\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst getMovies = async ({ pathName, param={} }) => {\n  axios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n  const searchParam = new URLSearchParams({\n  api_key: '8981d06a4174dd7b5006af470bdeff3a',\n  ...param\n  });\n  return axios\n    .get(`${pathName}?${searchParam}`)\n    .then(response => {\n      if (response.status !== 200) {\n        return Promise.reject(`Error: ${response.message}`);\n      }\n\n      if (response.data.total_results === 0) {\n        return Promise.reject(\n          'Sorry, no matches found. Please try again.'\n        );\n      }\n\n      return response.data;\n    })\n    .catch(err => {\n      return Promise.reject(err);\n    });\n};\n\nexport const getTrendingMovies = () => {\n  return getMovies({ pathName: '/trending/movie/day' })\n};\n\n     \nexport const getMoviesBySearchQuery = (query) => {\n  return getMovies({\n    pathName: '/search/movie',\n    param: {query}\n  })\n};\n  \nexport const getMovieDetailsById = (movieId) => {\n  return getMovies({\n    pathName: `/movie/${movieId}`\n  })\n};\nexport const getMovieCastById = (movieId) => {\n  return getMovies({\n    pathName: `/movie/${movieId}/credits`\n  })\n};\n\nexport const getMovieReviewsById = (movieId) => {\n  return getMovies({\n    pathName: `/movie/${movieId}/reviews`\n  })\n};"],"names":["ROUTE_HOME_PAGE","process","REACT_APP_ROUTE_HOME_PAGE","state","useLocation","movieId","useParams","useState","movie","setMovie","isLoading","setIsLoading","useEffect","getMovieDetailsById","then","results","catch","err","toast","finally","poster","poster_path","original_title","title","overview","genres","length","className","css","to","src","IMAGE_URL","alt","placeholderIMG","map","genre","name","join","Suspense","fallback","getMovies","pathName","param","axios","searchParam","URLSearchParams","api_key","response","status","Promise","reject","message","data","total_results","getTrendingMovies","getMoviesBySearchQuery","query","getMovieCastById","getMovieReviewsById"],"sourceRoot":""}